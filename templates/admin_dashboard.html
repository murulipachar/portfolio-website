{% extends "admin_base.html" %}
{% block content %}

<h2 class="mb-3">Welcome, {{ admin_name or "Admin" }}</h2>

<div class="row mb-4">
    <div class="col-md-4 mb-3">
        <div class="card shadow-sm stat-card">
            <div class="card-body">
                <h6 class="text-muted text-uppercase mb-1">Projects</h6>
                <h3 class="mb-0">{{ project_count }}</h3>
            </div>
        </div>
    </div>
    <div class="col-md-4 mb-3">
        <div class="card shadow-sm stat-card">
            <div class="card-body">
                <h6 class="text-muted text-uppercase mb-1">Skills</h6>
                <h3 class="mb-0">{{ skill_count }}</h3>
            </div>
        </div>
    </div>
    <div class="col-md-4 mb-3">
        <div class="card shadow-sm stat-card">
            <div class="card-body">
                <h6 class="text-muted text-uppercase mb-1">Messages</h6>
                <h3 class="mb-0">{{ message_count }}</h3>
            </div>
        </div>
    </div>
</div>

<h4 class="mb-3">Recent Messages</h4>
<div class="card shadow-sm">
    <div class="card-body">
        {% if recent_messages %}
            <ul class="list-group list-group-flush">
                {% for msg in recent_messages %}
                    <li class="list-group-item">
                        <strong>{{ msg.name }}</strong> ({{ msg.email }})<br>
                        <small class="text-muted">{{ msg.created_at.strftime('%Y-%m-%d %H:%M') }}</small>
                        <p class="mb-0 mt-1">{{ msg.message }}</p>
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p class="text-muted mb-0">No messages yet.</p>
        {% endif %}
    </div>
</div>

{% endblock %}
